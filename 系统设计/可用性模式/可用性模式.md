# 可用性模式

有两种支持高可用性的模式: 故障切换（fail-over）和复制（replication）

## 故障切换

### 工作到备用切换（Active-passive）

关于工作到备用的故障切换流程是，工作服务器发送周期信号给待机中的备用服务器。如果周期信号中断，备用服务器切换成工作服务器的 IP 地址并恢复服务

宕机时间取决于备用服务器处于“热”待机状态还是需要从“冷”待机状态进行启动。只有工作服务器处理流量

工作到备用的故障切换也被称为主从切换

## 双工作切换（Active-active）

在双工作切换中，双方都在管控流量，在它们之间分散负载

如果是外网服务器，DNS 将需要对两方都了解。如果是内网服务器，应用程序逻辑将需要对两方都了解

双工作切换也可以称为主主切换

## 缺陷：故障切换

* 故障切换需要添加额外硬件并增加复杂性

* 如果新写入数据在能被复制到备用系统之前，工作系统出现了故障，则有可能会丢失数据
